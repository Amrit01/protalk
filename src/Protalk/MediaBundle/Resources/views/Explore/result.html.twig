{% extends "::base.html.twig" %}

{% block title "Search results" %}

{% block bluestrip %}
    {% include '::bluestripThin.html.twig' %}
{% endblock %}

{% block body %}
{% if search != '' %}
    <h1 id="resultHeading">You have searched for '{{ search }}'</h1>
    <h1>SHOWING <span class="numberHiLite">{{ total }}</span> RESULTS</h1>
{% else %}
    <h1 id="resultHeading">Found <span class="numberHiLite">{{ total }}</span> RESULTS</h1>
{% endif %}

{% for media in results %}

<article class="mediaLarge">
    <div class="mediaThumbNailLarge">
        <img src="{{ asset('images/mediaThumbNail.png') }}" alt="Media ThumbNail Image"/>
    </div>
    <div class="mediaTextLarge">
        <header>
            <h2 title="{{media.title}}"><a href="{{ path('media_show', { 'slug': media.slug }) }}">{{ media.getTruncatedTitle(34) }}</a></h2>
            <p><time datetime="{{ media.date is empty ? "" : media.date|date("Y/m/d") }}" >{{ media.date is empty ? "" : media.date|date("d M Y") }} by </time><span class="name"><a class="speaker" href="{{ url('get_speakers', { 'id': media.id }) }}">{{ media.getTruncatedSpeaker(20) }}</a></span></p>
        </header>
        <p>{{ media.getTruncatedDescription() }}</p>
        <footer>
            <span class="metadata">Rating: {% render "ProtalkMediaBundle:Rating:index" with {'rating' : media.rating } %}</span>
        </footer>
    </div>

</article>
{% endfor %}
<div id="pagerContainer">
    <span class="pagerText">PAGE 2 OF 6</span>
    <ul>
        <li><a class="pagerButton" href="#"><span>1</span></a></li>
        <li><a class="pagerButton" href="#"><span>2</span></a></li>
        <li><a class="pagerButton" href="#"><span>3</span></a></li>
        <li><a class="pagerButton" href="#"><span>4</span></a></li>
        <li><a class="pagerButton" href="#"><span>5</span></a></li>
        <li><a class="pagerButton" href="#"><span>6</span></a></li>
    </ul>
</div>
{% endblock %}

{% block rightcolumn %}
    {% include '::sidebar.html.twig' %}
{% endblock %}